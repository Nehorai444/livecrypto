{"ast":null,"code":"import _slicedToArray from\"/home/nehorai/Desktop/main/development/proejcts/livecrypto/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/**\n * Component for displaying the home page of the cryptocurrency trading application.\n * \n * This component renders a search input field for filtering cryptocurrency trading data based on\n * the trading pair. It also displays a list of top coins based on their opening prices.\n * \n * @module HomePage\n * @param {Object} props - Props passed to the component.\n * @param {Array} props.data - Array of cryptocurrency trading data.\n * @requires react\n * @requires CoinsList\n * @requires react-i18next\n */import React,{useEffect,useState}from'react';import CoinsList from'./CoinsList';import{useTranslation}from'react-i18next';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function HomePage(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),topCoins=_useState2[0],setTopCoins=_useState2[1];var _useTranslation=useTranslation(),t=_useTranslation.t;var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchText=_useState4[0],setSearchText=_useState4[1];var filteredArr;/**\n   * Handles the search input change event.\n   * \n   * @param {Object} e - The event object.\n   * @memberof HomePage\n   */var handleSearch=function handleSearch(e){var txt=e.target.value;// Get the value from the search input\nsetSearchText(txt);// If the search input is empty, sort the data by opening price and set the topCoins state to the first 10 items\nif(!txt){filteredArr=props.data.sort(function(a,b){return b.openingPrice-a.openingPrice;});}else{filteredArr=props.data.filter(function(val){return val.tradingPair.includes(txt.toUpperCase());}).sort(function(a,b){return b.openingPrice-a.openingPrice;});}setTopCoins(filteredArr.slice(0,10));};useEffect(function(){// If the data is received, sort it by opening price and set the topCoins state to the first 10 items\nif(!searchText){filteredArr=props.data.sort(function(a,b){return b.openingPrice-a.openingPrice;});setTopCoins(filteredArr.slice(0,10));}},[props.data]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"search-container\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"search-input\",placeholder:t('searchPlaceholder'),value:searchText,onChange:handleSearch})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:t('topCoinsTitle')}),/*#__PURE__*/_jsx(CoinsList,{data:topCoins})]})]});}","map":{"version":3,"names":["React","useEffect","useState","CoinsList","useTranslation","jsx","_jsx","jsxs","_jsxs","HomePage","props","_useState","_useState2","_slicedToArray","topCoins","setTopCoins","_useTranslation","t","_useState3","_useState4","searchText","setSearchText","filteredArr","handleSearch","e","txt","target","value","data","sort","a","b","openingPrice","filter","val","tradingPair","includes","toUpperCase","slice","children","className","type","placeholder","onChange"],"sources":["/home/nehorai/Desktop/main/development/proejcts/livecrypto/client/src/components/HomePage.jsx"],"sourcesContent":["/**\n * Component for displaying the home page of the cryptocurrency trading application.\n * \n * This component renders a search input field for filtering cryptocurrency trading data based on\n * the trading pair. It also displays a list of top coins based on their opening prices.\n * \n * @module HomePage\n * @param {Object} props - Props passed to the component.\n * @param {Array} props.data - Array of cryptocurrency trading data.\n * @requires react\n * @requires CoinsList\n * @requires react-i18next\n */\nimport React, { useEffect, useState } from 'react';\nimport CoinsList from './CoinsList';\nimport { useTranslation } from 'react-i18next';\n\nexport default function HomePage(props) {\n  const [topCoins, setTopCoins] = useState([]);\n  const { t } = useTranslation();\n  const [searchText, setSearchText] = useState('');\n  let filteredArr;\n\n  /**\n   * Handles the search input change event.\n   * \n   * @param {Object} e - The event object.\n   * @memberof HomePage\n   */\n  const handleSearch = (e) => {\n    let txt = e.target.value; // Get the value from the search input\n\n    setSearchText(txt);\n\n    // If the search input is empty, sort the data by opening price and set the topCoins state to the first 10 items\n    if (!txt) {\n      filteredArr = props.data.sort((a, b) => b.openingPrice - a.openingPrice);\n    } else {\n      filteredArr = props.data.filter(val => val.tradingPair.includes(txt.toUpperCase()))\n        .sort((a, b) => b.openingPrice - a.openingPrice);\n    }\n\n    setTopCoins(filteredArr.slice(0, 10));\n  }\n\n  useEffect(() => {\n    // If the data is received, sort it by opening price and set the topCoins state to the first 10 items\n    if (!searchText) {\n      filteredArr = props.data.sort((a, b) => b.openingPrice - a.openingPrice);\n      setTopCoins(filteredArr.slice(0, 10));\n    }\n\n  }, [props.data]);\n\n  return (\n    <div>\n      <div className=\"search-container\">\n        <input\n          type=\"text\"\n          className=\"search-input\"\n          placeholder={t('searchPlaceholder')}\n          value={searchText}\n          onChange={handleSearch}\n        />\n      </div>\n      <div>\n        <h1>{t('topCoinsTitle')}</h1>\n        <CoinsList data={topCoins} />\n      </div>\n    </div>\n  );\n}\n"],"mappings":"uJAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,OAASC,cAAc,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/C,cAAe,SAAS,CAAAC,QAAQA,CAACC,KAAK,CAAE,CACtC,IAAAC,SAAA,CAAgCT,QAAQ,CAAC,EAAE,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,eAAA,CAAcZ,cAAc,CAAC,CAAC,CAAtBa,CAAC,CAAAD,eAAA,CAADC,CAAC,CACT,IAAAC,UAAA,CAAoChB,QAAQ,CAAC,EAAE,CAAC,CAAAiB,UAAA,CAAAN,cAAA,CAAAK,UAAA,IAAzCE,UAAU,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAChC,GAAI,CAAAG,WAAW,CAEf;AACF;AACA;AACA;AACA;AACA,KACE,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,CAAC,CAAK,CAC1B,GAAI,CAAAC,GAAG,CAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAE;AAE1BN,aAAa,CAACI,GAAG,CAAC,CAElB;AACA,GAAI,CAACA,GAAG,CAAE,CACRH,WAAW,CAAGZ,KAAK,CAACkB,IAAI,CAACC,IAAI,CAAC,SAACC,CAAC,CAAEC,CAAC,QAAK,CAAAA,CAAC,CAACC,YAAY,CAAGF,CAAC,CAACE,YAAY,GAAC,CAC1E,CAAC,IAAM,CACLV,WAAW,CAAGZ,KAAK,CAACkB,IAAI,CAACK,MAAM,CAAC,SAAAC,GAAG,QAAI,CAAAA,GAAG,CAACC,WAAW,CAACC,QAAQ,CAACX,GAAG,CAACY,WAAW,CAAC,CAAC,CAAC,GAAC,CAChFR,IAAI,CAAC,SAACC,CAAC,CAAEC,CAAC,QAAK,CAAAA,CAAC,CAACC,YAAY,CAAGF,CAAC,CAACE,YAAY,GAAC,CACpD,CAEAjB,WAAW,CAACO,WAAW,CAACgB,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,CAAC,CACvC,CAAC,CAEDrC,SAAS,CAAC,UAAM,CACd;AACA,GAAI,CAACmB,UAAU,CAAE,CACfE,WAAW,CAAGZ,KAAK,CAACkB,IAAI,CAACC,IAAI,CAAC,SAACC,CAAC,CAAEC,CAAC,QAAK,CAAAA,CAAC,CAACC,YAAY,CAAGF,CAAC,CAACE,YAAY,GAAC,CACxEjB,WAAW,CAACO,WAAW,CAACgB,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,CAAC,CACvC,CAEF,CAAC,CAAE,CAAC5B,KAAK,CAACkB,IAAI,CAAC,CAAC,CAEhB,mBACEpB,KAAA,QAAA+B,QAAA,eACEjC,IAAA,QAAKkC,SAAS,CAAC,kBAAkB,CAAAD,QAAA,cAC/BjC,IAAA,UACEmC,IAAI,CAAC,MAAM,CACXD,SAAS,CAAC,cAAc,CACxBE,WAAW,CAAEzB,CAAC,CAAC,mBAAmB,CAAE,CACpCU,KAAK,CAAEP,UAAW,CAClBuB,QAAQ,CAAEpB,YAAa,CACxB,CAAC,CACC,CAAC,cACNf,KAAA,QAAA+B,QAAA,eACEjC,IAAA,OAAAiC,QAAA,CAAKtB,CAAC,CAAC,eAAe,CAAC,CAAK,CAAC,cAC7BX,IAAA,CAACH,SAAS,EAACyB,IAAI,CAAEd,QAAS,CAAE,CAAC,EAC1B,CAAC,EACH,CAAC,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}