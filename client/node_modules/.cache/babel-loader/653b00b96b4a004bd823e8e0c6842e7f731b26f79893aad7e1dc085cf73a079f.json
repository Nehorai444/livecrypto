{"ast":null,"code":"import _slicedToArray from\"/home/nehorai/Desktop/main/development/proejcts/livecrypto/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/**\n * Component for displaying detailed information about a specific cryptocurrency.\n * \n * This component renders details such as trading pair, close price, open price,\n * high price, low price, total traded base asset volume, and total traded quote asset volume.\n * It also provides inputs for selecting start and end dates for data retrieval, and a button\n * to trigger the data search. Upon successful search, it displays a graph component with the retrieved data.\n * \n * @module Coin\n * @param {Object} props - Props passed to the component.\n * @param {Object} val - Object containing details of the cryptocurrency.\n * @param {number} index - Index of the cryptocurrency in the list.\n * @requires react\n * @requires react-i18next\n * @requires Graph\n * @requires Loader\n * @requires ApiRequest\n */import React,{useState}from'react';import Graph from'./shelves/Graph';import{ApiRequest}from'../library/Utilities';import{useTranslation}from'react-i18next';import Loader from'./Loader';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function Coin(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),startDate=_useState2[0],setStartDate=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),endDate=_useState4[0],setEndDate=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var _props$value=props.value,val=_props$value.val,flag=_props$value.flag,index=_props$value.index,setDataCoin=_props$value.setDataCoin,setFlag=_props$value.setFlag;// Function to format the price\nfunction getFormatPrice(price){return new Intl.NumberFormat('en-US',{style:'currency',currency:'USD'}).format(price);}function onClick(){// Check if the start date and end date are not empty\nif(!startDate||!endDate)return;setIsLoading(true);// Call the search function from the ApiRequest library\nApiRequest.search(startDate,endDate,val.tradingPair).then(function(res){if(res.status===1){setDataCoin(res.data);// Set the dataCoin state to the data from the server\nsetIsLoading(false);setFlag(!flag);}else{setError(res.errors[0]);setIsLoading(false);}}).catch(function(err){console.log(err);});}function convertToUTC(datetimeLocalValue){// Parse the input value into a Date object\nvar localDate=new Date(datetimeLocalValue);// Get the UTC string in ISO format\nvar utcDate=new Date(localDate.getTime()+localDate.getTimezoneOffset()*60000);return utcDate.toISOString();// Convert to ISO 8601 format\n}return/*#__PURE__*/_jsxs(\"div\",{className:\"coin\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:i18n.language===\"he\"?\"rtlText\":\"ltrText\",children:[t('tradeTitle'),\" \",index+1,\":\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rtlText\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[t('symbol'),\":\"]}),\" \",val.tradingPair,/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"strong\",{children:[t('closePrice'),\":\"]}),\" \",getFormatPrice(val.currentPrice),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"strong\",{children:[t('openPrice'),\":\"]}),\" \",getFormatPrice(val.openingPrice),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"strong\",{children:[t('highPrice'),\":\"]}),\" \",getFormatPrice(val.highestPrice24h),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"strong\",{children:[t('lowPrice'),\":\"]}),\" \",getFormatPrice(val.lowestPrice24h),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"strong\",{children:[t('totalTradedBaseAssetVolume'),\":\"]}),\" \",getFormatPrice(val.totalTradedVolume),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"strong\",{children:[t('totalTradedQuoteAssetVolume'),\":\"]}),\" \",getFormatPrice(val.totalTradedQuoteVolume),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:i18n.language===\"he\"?\"rtlText\":\"ltrText\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"startDate\",children:[t('startDateLabel'),\":\"]}),\" \\xA0\",/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",id:\"startDate\",name:\"startDate\",onChange:function onChange(e){var localDate=new Date(e.target.value);setStartDate(localDate);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"endDate\",children:[t('endDateLabel'),\":\"]}),\" \\xA0\",/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",id:\"endDate\",name:\"endDate\",onChange:function onChange(e){var localDate=new Date(e.target.value);setEndDate(localDate);}})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),!flag&&/*#__PURE__*/_jsx(\"button\",{id:\"searchButton\",onClick:onClick,children:t('searchButton')}),isLoading&&/*#__PURE__*/_jsx(Loader,{}),error&&/*#__PURE__*/_jsx(\"p\",{children:error})]});}","map":{"version":3,"names":["React","useState","Graph","ApiRequest","useTranslation","Loader","jsxs","_jsxs","jsx","_jsx","Coin","props","_useState","_useState2","_slicedToArray","startDate","setStartDate","_useState3","_useState4","endDate","setEndDate","_useState5","_useState6","isLoading","setIsLoading","_useState7","_useState8","error","setError","_useTranslation","t","i18n","_props$value","value","val","flag","index","setDataCoin","setFlag","getFormatPrice","price","Intl","NumberFormat","style","currency","format","onClick","search","tradingPair","then","res","status","data","errors","catch","err","console","log","convertToUTC","datetimeLocalValue","localDate","Date","utcDate","getTime","getTimezoneOffset","toISOString","className","children","language","currentPrice","openingPrice","highestPrice24h","lowestPrice24h","totalTradedVolume","totalTradedQuoteVolume","htmlFor","type","id","name","onChange","e","target"],"sources":["/home/nehorai/Desktop/main/development/proejcts/livecrypto/client/src/components/Coin.jsx"],"sourcesContent":["/**\n * Component for displaying detailed information about a specific cryptocurrency.\n * \n * This component renders details such as trading pair, close price, open price,\n * high price, low price, total traded base asset volume, and total traded quote asset volume.\n * It also provides inputs for selecting start and end dates for data retrieval, and a button\n * to trigger the data search. Upon successful search, it displays a graph component with the retrieved data.\n * \n * @module Coin\n * @param {Object} props - Props passed to the component.\n * @param {Object} val - Object containing details of the cryptocurrency.\n * @param {number} index - Index of the cryptocurrency in the list.\n * @requires react\n * @requires react-i18next\n * @requires Graph\n * @requires Loader\n * @requires ApiRequest\n */\nimport React, { useState } from 'react';\nimport Graph from './shelves/Graph';\nimport { ApiRequest } from '../library/Utilities';\nimport { useTranslation } from 'react-i18next';\nimport Loader from './Loader';\n\nexport default function Coin(props) {\n    const [startDate, setStartDate] = useState(\"\");\n    const [endDate, setEndDate] = useState(\"\");\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState(\"\");\n    const { t, i18n } = useTranslation();\n    const {val, flag, index, setDataCoin, setFlag} = props.value;\n    // Function to format the price\n    function getFormatPrice(price) {\n        return new Intl.NumberFormat('en-US', {\n            style: 'currency',\n            currency: 'USD',\n        }).format(price);\n    }\n\n    function onClick() {\n        // Check if the start date and end date are not empty\n        if (!startDate || !endDate) return;\n\n        setIsLoading(true);\n\n        // Call the search function from the ApiRequest library\n        ApiRequest.search(startDate, endDate, val.tradingPair)\n            .then(res => {\n                if (res.status === 1) {\n                    setDataCoin(res.data); // Set the dataCoin state to the data from the server\n                    setIsLoading(false);\n                    setFlag(!flag);\n                } else {\n                    setError(res.errors[0]);\n                    setIsLoading(false);\n                }\n            })\n            .catch(err => {\n                console.log(err);\n            });\n    }\n\n    function convertToUTC(datetimeLocalValue) {\n        // Parse the input value into a Date object\n        const localDate = new Date(datetimeLocalValue);\n    \n        // Get the UTC string in ISO format\n        const utcDate = new Date(localDate.getTime() + localDate.getTimezoneOffset() * 60000);\n    \n        return utcDate.toISOString(); // Convert to ISO 8601 format\n    }\n\n    return (       \n        <div className='coin'>\n            <h3 className={i18n.language === \"he\" ? \"rtlText\" : \"ltrText\"}>{t('tradeTitle')} {index + 1}:</h3>\n            <div className=\"rtlText\">\n                <strong>{t('symbol')}:</strong> {val.tradingPair}<br />\n            </div>\n            <strong>{t('closePrice')}:</strong> {getFormatPrice(val.currentPrice)}<br />\n            <strong>{t('openPrice')}:</strong> {getFormatPrice(val.openingPrice)}<br />\n            <strong>{t('highPrice')}:</strong> {getFormatPrice(val.highestPrice24h)}<br />\n            <strong>{t('lowPrice')}:</strong> {getFormatPrice(val.lowestPrice24h)}<br />\n            <strong>{t('totalTradedBaseAssetVolume')}:</strong> {getFormatPrice(val.totalTradedVolume)}<br />\n            <strong>{t('totalTradedQuoteAssetVolume')}:</strong> {getFormatPrice(val.totalTradedQuoteVolume)}<br />\n            <div className={i18n.language === \"he\" ? \"rtlText\" : \"ltrText\"}>\n            <label htmlFor=\"startDate\">{t('startDateLabel')}:</label> &nbsp;\n            <input\n                type=\"datetime-local\"\n                id=\"startDate\"\n                name=\"startDate\"\n                onChange={e => {\n                const localDate = new Date(e.target.value);\n                setStartDate(localDate);\n            }}\n            />\n            <br />\n            <label htmlFor=\"endDate\">{t('endDateLabel')}:</label> &nbsp;\n            <input\n                type=\"datetime-local\"\n                id=\"endDate\"\n                name=\"endDate\"\n                onChange={e => {\n                    const localDate = new Date(e.target.value);\n                    setEndDate(localDate);\n                }}\n                />\n            </div> <br />\n            {!flag && <button id=\"searchButton\" onClick={onClick}>{t('searchButton')}</button>}\n            {isLoading && <Loader />}\n            {error && <p>{ error }</p>}\n\n        </div>\n        \n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}